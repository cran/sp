
R : Copyright 2005, The R Foundation for Statistical Computing
Version 2.1.1  (2005-06-20), ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

> library(sp)
> data(meuse)
> x = meuse
> coordinates(x) = cbind(rnorm(155), rnorm(155))
> # should pass:
> names(x@data)
 [1] "x"       "y"       "cadmium" "copper"  "lead"    "zinc"    "elev"   
 [8] "dist"    "om"      "ffreq"   "soil"    "lime"    "landuse" "dist.m" 
> names(as.data.frame(x))
 [1] "x"         "y"         "cadmium"   "copper"    "lead"      "zinc"     
 [7] "elev"      "dist"      "om"        "ffreq"     "soil"      "lime"     
[13] "landuse"   "dist.m"    "coords.x1" "coords.x2"
> class(as(x, "data.frame"))
[1] "data.frame"
> x = meuse
> # coordinates defined as data:
> coordinates(x) = cbind(xcoord = rnorm(155), ycoord = rnorm(155))
> # should pass:
> names(x@data)
 [1] "x"       "y"       "cadmium" "copper"  "lead"    "zinc"    "elev"   
 [8] "dist"    "om"      "ffreq"   "soil"    "lime"    "landuse" "dist.m" 
> names(as.data.frame(x))
 [1] "x"       "y"       "cadmium" "copper"  "lead"    "zinc"    "elev"   
 [8] "dist"    "om"      "ffreq"   "soil"    "lime"    "landuse" "dist.m" 
[15] "xcoord"  "ycoord" 
> is.projected(x)
[1] NA
> proj4string(x)
[1] NA
> 
> set.seed(13131) # make sample reproducable:
> x = meuse[, sample(ncol(meuse))] # 'randomly' shuffle columns
> # coordinates defined as variable names:
> coordinates(x) = c("x", "y") # no matter their position
> #plot(x, cex=.05 * sqrt(x@data[,"zinc"]),
> plot(x, cex=.05 * sqrt(as.data.frame(x)[["zinc"]]),pch=1)
> title("Meuse: zinc bubble plot")
> print(summary(x))
Object of class SpatialPointsDataFrame
Coordinates:
     min    max
x 178605 181390
y 329714 333611
Is projected: NA 
proj4string : [NA]
Number of points: 155
Data attributes:
 lime       landuse        zinc             elev            dist.m      
 0:111   W      :50   Min.   : 113.0   Min.   : 5.180   Min.   :  10.0  
 1: 44   Ah     :39   1st Qu.: 198.0   1st Qu.: 7.546   1st Qu.:  80.0  
         Am     :22   Median : 326.0   Median : 8.180   Median : 270.0  
         Fw     :10   Mean   : 469.7   Mean   : 8.165   Mean   : 290.3  
         Ab     : 8   3rd Qu.: 674.5   3rd Qu.: 8.955   3rd Qu.: 450.0  
         (Other):25   Max.   :1839.0   Max.   :10.520   Max.   :1000.0  
         NA's   : 1                                                     
      dist         soil       copper             om              lead      
 Min.   :0.00000   1:97   Min.   : 14.00   Min.   : 1.000   Min.   : 37.0  
 1st Qu.:0.07569   2:46   1st Qu.: 23.00   1st Qu.: 5.300   1st Qu.: 72.5  
 Median :0.21184   3:12   Median : 31.00   Median : 6.900   Median :123.0  
 Mean   :0.24002          Mean   : 40.32   Mean   : 7.478   Mean   :153.4  
 3rd Qu.:0.36407          3rd Qu.: 49.50   3rd Qu.: 9.000   3rd Qu.:207.0  
 Max.   :0.88039          Max.   :128.00   Max.   :17.000   Max.   :654.0  
                                           NA's   : 2.000                  
    cadmium       ffreq 
 Min.   : 0.200   1:84  
 1st Qu.: 0.800   2:48  
 Median : 2.100   3:23  
 Mean   : 3.246         
 3rd Qu.: 3.850         
 Max.   :18.100         
                        
> 
> # coordinates defined as formula:
> x = meuse[, 1:5]
> coordinates(x) = ~x+y
> print(summary(x))
Object of class SpatialPointsDataFrame
Coordinates:
     min    max
x 178605 181390
y 329714 333611
Is projected: NA 
proj4string : [NA]
Number of points: 155
Data attributes:
    cadmium           copper            lead      
 Min.   : 0.200   Min.   : 14.00   Min.   : 37.0  
 1st Qu.: 0.800   1st Qu.: 23.00   1st Qu.: 72.5  
 Median : 2.100   Median : 31.00   Median :123.0  
 Mean   : 3.246   Mean   : 40.32   Mean   :153.4  
 3rd Qu.: 3.850   3rd Qu.: 49.50   3rd Qu.:207.0  
 Max.   :18.100   Max.   :128.00   Max.   :654.0  
> 
> # a = NULL
> # cc = cbind(sample(1:10), sample(1:10), sample(1:10))
> # coordinates(a) = cc
> # summary(a)
> 
